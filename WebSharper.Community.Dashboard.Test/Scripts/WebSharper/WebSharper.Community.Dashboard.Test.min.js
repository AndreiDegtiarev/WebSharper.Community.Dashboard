(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;a=window;b=a.WebSharper=a.WebSharper||{};c=b.Community=b.Community||{};d=c.Dashboard=c.Dashboard||{};e=d.Test=d.Test||{};f=e.AppModel=e.AppModel||{};g=e.Client=e.Client||{};h=d&&d.AppModelLib;i=d&&d.RuleEntry;j=d&&d.AppData;k=c&&c.Panel;l=k&&k.Helper;m=d&&d.RandomRunner;n=d&&d.TextBoxRenderer;o=d&&d.ChartRenderer;p=b&&b.List;q=k&&k.PanelData;r=d&&d.RuleContainer;s=d&&d.RuleChain;t=d&&d.App;u=b&&b.Remoting;v=u&&u.AjaxRemotingProvider;w=d&&d.MessageBus;x=b&&b.UI;y=x&&x.Next;z=y&&y.Doc;A=d&&d.Environment;B=a.console;C=y&&y.Var;D=b&&b.Strings;f.FromWorker=function(E){var F;F=h.FromWorker(E);return F==null?null:{$:1,$0:{$:0,$0:F.$0}};};f.ToWorker=function(E){return h.ToWorker(E.$0);};g.Main=function(E){var F,G,H;function I(){var L,M,N,O,P,Q;function R(S){var T;T=f.ToWorker(S);return[[T.Key,L,S],i.New(T.InPorts.get_Item(0).get_Key(),"",T.Key)];}j.Create(H,f.FromWorker);L=l.UniqueKey();M={$:0,$0:{$:0,$0:m.get_Create()}};N=f.ToWorker(M);O=R({$:0,$0:{$:3,$0:n.get_Create()}});P=R({$:0,$0:{$:4,$0:o.Create(300,150,50)}});Q=p.ofArray([q.Create(L,0,0,p.T.Empty)]);j.New(p.ofArray([["main",p.ofArray([[N.Key,M]])]]),p.ofArray([["main",Q,p.ofArray([O[0],P[0]])]]),p.ofArray([["main",r.New(p.ofArray([s.New(p.ofArray([i.New(N.InPorts.get_Item(0).get_Key(),N.OutPorts.get_Item(0).Key,N.Key),O[1]])),s.New(p.ofArray([i.New(N.InPorts.get_Item(0).get_Key(),N.OutPorts.get_Item(0).Key,N.Key),P[1]]))]))]])).RecreateOnClientEventsRunning(H,function(){return t.PanelContainerCreator();},f.ToWorker);}function J(L){var M;M=(new v.New()).Sync("WebSharper.Community.Dashboard.Test:WebSharper.Community.Dashboard.Test.Server.LoadFromFile:960175932",[L]);M.RecreateOnClientEventsNotRunning(H,function(){return t.PanelContainerCreator();},f.ToWorker);(new v.New()).Send("WebSharper.Community.Dashboard.Test:WebSharper.Community.Dashboard.Test.Server.RecreateOnServer:1430973847",[M]);F("Server recreated");w.RunServerRequests();}function K(L){return z.Element("td",[],L);}A.set_Log(function(L){B.log(L);});F=A.Log();G=C.Create$1("Dashboard");H=t.CreateDashboard();return z.Element("div",[],[H.Render(z.Element("div",[],[K(p.ofArray([l.TxtIconNormal("build","Sample configuration",function(){I();})])),K(p.ofArray([z.TextNode("File name"),z.Input([],G)])),K(p.ofArray([l.TxtIconNormal("archive","Upload",function(){(new v.New()).Send("WebSharper.Community.Dashboard.Test:WebSharper.Community.Dashboard.Test.Server.SaveToFile:-1517660316",[G.c,j.Create(H,f.FromWorker)]);})])),K(p.ofArray([l.TxtIconNormal("unarchive","Download  and run on client",function(){(new v.New()).Sync("WebSharper.Community.Dashboard.Test:WebSharper.Community.Dashboard.Test.Server.LoadFromFile:960175932",[G.c]).RecreateOnClientEventsRunning(H,function(){return t.PanelContainerCreator();},f.ToWorker);})])),K(p.ofArray([l.TxtIconNormal("cloud_upload","Download and run on server",function(){J(G.c);})]))]))]).OnAfterRender(function(){try{!D.IsNullOrWhiteSpace(E.ConfigurationName)?J(E.ConfigurationName):null;}catch(L){null;}});};}());
