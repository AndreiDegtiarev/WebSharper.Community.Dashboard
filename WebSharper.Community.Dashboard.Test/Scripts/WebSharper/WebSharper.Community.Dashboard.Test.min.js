(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;a=window.WebSharper=window.WebSharper||{};b=a.Community=a.Community||{};c=b.Dashboard=b.Dashboard||{};d=c.Test=c.Test||{};e=d.AppModel=d.AppModel||{};f=d.AppData=d.AppData||{};g=d.Client=d.Client||{};h=window.IntelliFactory;i=h&&h.Runtime;j=c&&c.Worker;k=c&&c.RandomRunner;l=c&&c.OpenWeatherRunner;m=c&&c.TextBoxRenderer;n=c&&c.ChartRenderer;o=a&&a.Operators;p=a&&a.List;q=c&&c.Dashboard;r=b&&b.Panel;s=r&&r.PanelContainer;t=r&&r.LayoutManagers;u=a&&a.UI;v=u&&u.Next;w=v&&v.AttrModule;x=v&&v.Doc;y=r&&r.Helper;z=window.console;A=a&&a.Remoting;B=A&&A.AjaxRemotingProvider;e=d.AppModel=i.Class({get_Worker:function(){return this.$==1?j.CreateRunner(this.$0):this.$==2?j.CreateRenderer(this.$0):this.$==3?j.Create(this.$0):j.CreateRunner(this.$0);}},null,e);e.ToWorker=function(C){return e.FromDataContext(C).get_Worker();};e.FromWorker=function(C){var D;D=C.DataContext;return D instanceof c.RandomRunner?new e({$:0,$0:(k.get_FromPorts())(C)}):D instanceof c.OpenWeatherRunner?new e({$:1,$0:(l.get_FromPorts())(C)}):D instanceof c.TextBoxRenderer?new e({$:2,$0:(m.get_FromPorts())(C)}):D instanceof c.ChartRenderer?new e({$:3,$0:(n.get_FromPorts())(C)}):o.FailWith("AllTypes FromDataContext unknown type");};e.FromDataContext=function(C){return C instanceof k?new e({$:0,$0:C}):C instanceof l?new e({$:1,$0:C}):C instanceof m?new e({$:2,$0:C}):C instanceof n?new e({$:3,$0:C}):o.FailWith("AllTypes FromDataContext unknown type");};f.Create=function(C){return f.New(p.map(function(D){return e.FromWorker(D.Worker);},p.ofSeq(C.EventItems)),p.map(function(D){return e.FromWorker(D.Worker);},p.ofSeq(C.WidgetItems)),p.map(function(D){return D.PortConnector.get_Data();},p.ofSeq(C.PortConnectorItems)));};f.New=function(C,D,E){return{Events:C,Widgets:D,PortConnectors:E};};g.Main=function(){var C,D;function E(G){var H;D(G,(H=C.Factory,function(I){H.RegisterEvent(I);}));}function F(G){var H;D(G,(H=C.Factory,function(I){H.RegisterWidget(I);}));}C=q.Create(s.get_Create().WithLayoutManager(t.FloatingPanelLayoutManager(5)).WithWidth(800).WithHeight(420).WithAttributes([w.Style("border","1px solid white")]));D=function(G,H){return H(e.ToWorker(G));};E(l.Create("London",""));E(k.Create(50,5));F(m.get_Create());F(n.Create(300,100,50));return x.Element("div",[],[C.get_Render(),y.IconNormal("add",function(){z.log((new B.New()).Sync("WebSharper.Community.Dashboard.Test:WebSharper.Community.Dashboard.Test.Server.Serialize:1132126697",[f.Create(C.Data)]));})]);};}());
