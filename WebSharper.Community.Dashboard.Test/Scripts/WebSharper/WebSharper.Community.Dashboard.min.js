(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi;a=window;b=a.WebSharper=a.WebSharper||{};c=b.Community=b.Community||{};d=c.Dashboard=c.Dashboard||{};e=d.DshBase=d.DshBase||{};f=d.DshBaseReact=d.DshBaseReact||{};g=d.InPort=d.InPort||{};h=d.OutPort=d.OutPort||{};i=d.InPortNum=d.InPortNum||{};j=d.InPortStr=d.InPortStr||{};k=d.OutPortNum=d.OutPortNum||{};l=d.PortConnector=d.PortConnector||{};m=d.Worker=d.Worker||{};n=d.Sources=d.Sources||{};o=n.RandomValueSource=n.RandomValueSource||{};p=d.SrcOpenWeather=d.SrcOpenWeather||{};q=p.Forecast=p.Forecast||{};r=p.Create=p.Create||{};s=d.Widget=d.Widget||{};t=d.Widgets=d.Widgets||{};u=t.TextBox=t.TextBox||{};v=t.Chart=t.Chart||{};w=d.WorkerItem=d.WorkerItem||{};x=d.Factory=d.Factory||{};y=d.PortConnectorItem=d.PortConnectorItem||{};z=d.DshData=d.DshData||{};A=d.DshEditorCellItem=d.DshEditorCellItem||{};B=d.DshEditorRowItem=d.DshEditorRowItem||{};C=d.DshEditor=d.DshEditor||{};D=d.SourceProperty=d.SourceProperty||{};E=d.Dashboard=d.Dashboard||{};F=a.IntelliFactory;G=F&&F.Runtime;H=b&&b.UI;I=H&&H.Next;J=I&&I.Var;K=c&&c.PropertyGrid;L=K&&K.Properties;M=b&&b.Control;N=M&&M.FSharpEvent;O=b&&b.List;P=b&&b.Random;Q=b&&b.Concurrency;R=b&&b.PrintfHelpers;S=b&&b.Data;T=S&&S.TxtRuntime;U=a.FSharp;V=U&&U.Data;W=V&&V.Runtime;X=W&&W.IO;Y=b&&b.Unchecked;Z=b&&b.Arrays;_0=I&&I.View;_1=I&&I.AttrModule;_2=I&&I.Doc;_3=b&&b.Seq;_4=b&&b.Charting;_5=_4&&_4.Renderers;_6=_5&&_5.ChartJs;_7=b&&b.Operators;_8=_4&&_4.Chart;_9=_4&&_4.Pervasives;_=I&&I.Key;$=I&&I.ListModel;ba=b&&b.Option;bb=c&&c.Panel;bc=bb&&bb.Helper;bd=bb&&bb.PanelContainer;be=bb&&bb.LayoutManagers;bf=bb&&bb.Panel;bg=bb&&bb.TitleButton;bh=bb&&bb.Dialog;bi=K&&K.PropertyGrid;e=d.DshBase=G.Class({get_Name:function(){return this.name;}},null,e);e.New=G.Ctor(function(bj){this.name=bj;},e);f=d.DshBaseReact=G.Class({get_Name:function(){return this.name;}},null,f);f.New=G.Ctor(function(bj){this.name=J.Create$1(bj);},f);g=d.InPort=G.Class({get_Property:function(){return L.group("empty");},Disconnect:function(){var bj;this.Disconnector();bj="Port "+this.name$1+" disconnected";a.console.log(bj);this.Disconnector=function(){};},RegisterDisconnector:function(bj,bk){this._outPort=bj;this.Disconnector=bk;},get_OutPort:function(){return this._outPort;}},e,g);g.New=G.Ctor(function(bj){e.New.call(this,bj);this.name$1=bj;this.Disconnector=function(){};this._outPort=new h.New("No connection");},g);h=d.OutPort=G.Class({IsCompatible:function(bj){return false;},Connect:function(bj){return function(){};}},e,h);h.New=G.Ctor(function(bj){e.New.call(this,bj);},h);i=d.InPortNum=G.Class({get_Value:function(){return this.value;},get_Property:function(){return L["double"](this.name$2,this.value);}},g,i);i.New=G.Ctor(function(bj,bk){g.New.call(this,bj);this.name$2=bj;this.value=J.Create$1(bk);},i);j=d.InPortStr=G.Class({get_Value:function(){return this.value;},get_Property:function(){return L.string(this.name$2,this.value);}},g,j);j.New=G.Ctor(function(bj,bk){g.New.call(this,bj);this.name$2=bj;this.value=J.Create$1(bk);},j);k=d.OutPortNum=G.Class({Trigger:function(bj){this.event.event.Trigger(bj);},Connect:function(bj){var bk,bl,bm;bk=this;bl="Port "+this.name$1+" connect";a.console.log(bl);bj.Disconnect();bm=function(bn,bo){var bp;bp=bj.get_Value();return J.Set(bp,bo);};this.event.event.AddHandler(bm);return function(){bk.event.event.RemoveHandler(bm);};},IsCompatible:function(bj){return bj instanceof i;}},h,k);k.New=G.Ctor(function(bj){h.New.call(this,bj);this.name$1=bj;this.event=new N.New();},k);l=d.PortConnector=G.Class({Disconnect:function(){this.disconnector();}},e,l);l.New=G.Ctor(function(bj,bk){e.New.call(this,bj.get_Name()+"->"+bk.get_Name());this.disconnector=bj.Connect(bk);},l);m=d.Worker=G.Class({get_OutPorts:function(){return O.T.Empty;},get_InPorts:function(){return O.T.Empty;},Run:function(){},get_Properties:function(){var bj;bj=function(bk){return bk.get_Property();};return function(bk){return O.map(bj,bk);}(this.get_InPorts());}},f,m);m.New=G.Ctor(function(bj){f.New.call(this,bj);},m);o=n.RandomValueSource=G.Class({Run:function(){var bj,bk;bj=this;bk=new P.New();Q.Start(Q.Delay(function(){return Q.While(function(){return true;},Q.Delay(function(){return Q.Bind(Q.Sleep(600),function(){var bl;bl=a.Math.random()*bj.inDispersionValue.get_Value().c+bj.inMiddleValue.get_Value().c;bj.outRandomNumber.Trigger(bl);return Q.Return(null);});}));}),null);},Clone:function(){return new o.New(this.middleValue,this.dispersion);},get_OutPorts:function(){return O.ofArray([this.outRandomNumber]);},get_InPorts:function(){return O.ofArray([this.inMiddleValue,this.inDispersionValue]);}},m,o);o.New=G.Ctor(function(bj,bk){m.New.call(this,"Random");this.middleValue=bj;this.dispersion=bk;this.inMiddleValue=new i.New("Middle value",this.middleValue);this.inDispersionValue=new i.New("Dispersion",this.dispersion);this.outRandomNumber=new k.New("Random value");},o);q.New=function(bj,bk,bl,bm,bn){return{Title:bj,Description:bk,ImageUrl:bl,Temperature:bm,TemparatureMinMax:bn};};r=p.Create=G.Class({Run:function(){var bj,bk;bj=this;bk=new P.New();Q.Start(Q.Delay(function(){return Q.While(function(){return true;},Q.Delay(function(){var bl;bl=p.get(bj.inApiKey.get_Value().c,bj.inCity.get_Value().c);return Q.Bind(bl,function(bm){var bn,bo;bn=bm==null?Q.Return(null):(bo="Value generated:"+bm.$0.Title,a.console.log(bo),bj.outTempearatur.Trigger(+bm.$0.Temperature),Q.Return(null));return Q.Combine(bn,Q.Delay(function(){return Q.Bind(Q.Sleep(1000*15),function(){return Q.Return(null);});}));});}));}),null);},Clone:function(){return new r.New(this.city);},get_OutPorts:function(){return O.ofArray([this.outTempearatur]);},get_InPorts:function(){return O.ofArray([this.inApiKey,this.inCity]);}},m,r);r.New=G.Ctor(function(bj){m.New.call(this,"OpenWeatherMap");this.city=bj;this.inApiKey=new j.New("ApiKey","");this.inCity=new j.New("City",this.city);this.outTempearatur=new k.New("Temperature");},r);p.get=function(bj,bk){return Q.Delay(function(){var bl,bm;bl=((bm=function(bn,bo,bp){return bn("http://api.openweathermap.org/data/2.5/weather?q="+R.toSafe(bo)+"&units=metric&appid="+R.toSafe(bp));},(G.Curried3(bm))(a.id))(bk))(bj);a.console.log("get key city "+bl);return Q.TryWith(Q.Delay(function(){var bn;bn=T.AsyncMap(X.asyncReadTextAtRuntime(false,"C:\\Users\\Andrey\\Private\\VS_Projects\\WebSharper.Community.Dashboard\\WebSharper.Community.Dashboard","","JSON","",bl),function(bo){return Y.Equals(typeof bo,"string")?a.JSON.parse(bo):bo;});return Q.Bind(bn,function(bo){var bp;a.console.log("get key city 2");return Q.Return((bp=function(bq){var br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN;return q.New(((br=function(bO,bP,bQ){return bO(R.toSafe(bP)+", "+R.toSafe(bQ));},(G.Curried3(br))(a.id))((bs=(bt="name",bt in bo?{$:1,$0:bo[bt]}:null),bs==null?null:bs.$0)))((bu=bo.sys,(bv=(bw="country",bw in bu?{$:1,$0:bu[bw]}:null),bv==null?null:bv.$0))),(bx=(by="main",by in bq?{$:1,$0:bq[by]}:null),bx==null?null:bx.$0),(bz=function(bO,bP){return bO("http://openweathermap.org/img/w/"+R.toSafe(bP)+".png");},(function(bO){return function(bP){return bz(bO,bP);};}(a.id))((bA=(bB="icon",bB in bq?{$:1,$0:bq[bB]}:null),bA==null?null:bA.$0))),(bC=bo.main,(bD=(bE="temp",bE in bC?{$:1,$0:bC[bE]}:null),(bF=bD==null?null:{$:1,$0:1*bD.$0},bF==null?null:bF.$0))),[(bG=bo.main,(bH=(bI="temp_min",bI in bG?{$:1,$0:bG[bI]}:null),(bJ=bH==null?null:{$:1,$0:1*bH.$0},bJ==null?null:bJ.$0))),(bK=bo.main,(bL=(bM="temp_max",bM in bK?{$:1,$0:bK[bM]}:null),(bN=bL==null?null:{$:1,$0:1*bL.$0},bN==null?null:bN.$0)))]);},function(bq){return bq==null?null:{$:1,$0:bp(bq.$0)};}(Z.tryHead(bo.weather))));});}),function(bn){var bo;bo=bn.message;a.console.log(bo);return Q.Return(null);});});};s=d.Widget=G.Class({},m,s);s.New=G.Ctor(function(bj){m.New.call(this,bj);},s);u=t.TextBox=G.Class({get_Number:function(){return this.inPortNumber;},Render:function(){var bj,bk,bl,bm;bj=(bk=this.get_Number().get_Value().v,_0.Map(function(bn){var bo;bo=bn<<0;return a.String(bo);},bk));bl=[_1.Class("bigvalue")];bm=[_2.TextView(bj)];return _2.Element("div",bl,bm);},Clone:function(){return new u.New();},get_InPorts:function(){return O.ofArray([this.inPortNumber]);}},s,u);u.New=G.Ctor(function(){s.New.call(this,"Text");this.inPortNumber=new i.New("in Value",0);},u);v=t.Chart=G.Class({observe:function(bj){var bk,bl,bm;bk=this;this.values.push(bj);this.values.length>this.chartBufferSize?bl=this.values.shift():void 0;bm=function(bn,bo){return bk.chart.__UpdateData(bn,function(){return bo;});};(function(bn){_3.iteri(bm,bn);}(this.values));},get_Cy:function(){return this.inPortCy;},get_Cx:function(){return this.inPortCx;},get_Chart:function(){return this.chart;},Render:function(){return _6.Render$8(this.get_Chart(),{$:1,$0:{$:0,$0:this.get_Cx().get_Value().c<<0,$1:this.get_Cy().get_Value().c<<0}},null,null);},Clone:function(){return new v.New(this.cx,this.cy,this.chartBufferSize);},get_InPorts:function(){return O.ofArray([this.inPortNumber,this.inPortCx,this.inPortCy]);}},s,v);v.New=G.Ctor(function(bj,bk,bl){var bm,bn,bo,bp,bq;bm=this;s.New.call(this,"Chart");this.cx=bj;this.cy=bk;this.chartBufferSize=bl;bn=O.ofSeq(_3.delay(function(){return _3.map(function(){return 0;},_7.range(0,bm.chartBufferSize-1));}));this.values=(bo=[],(bp=function(br){bo.push(br);},function(br){_3.iter(bp,br);}(bn),bo));this.chart=_8.Line(bn).__WithFillColor(new _9.Color({$:2,$0:"white"}));this.inPortCx=new i.New("cx",this.cx);this.inPortCy=new i.New("cy",this.cy);this.inPortNumber=new i.New("in Value",0);bq=this.inPortNumber.get_Value().v;_0.Sink(function(br){bm.observe(br);},bq);},v);w.Create=function(bj){return w.New(_.Fresh(),bj);};w.New=function(bj,bk){return{Key:bj,Worker:bk};};x=d.Factory=G.Class({RegisterEvent:function(bj){this.EventItems.Append(w.Create(bj));},RegisterWidget:function(bj){this.WidgetItems.Append(w.Create(bj));}},null,x);x.get_Create=function(){var bj,bk;return x.New((bj=O.T.Empty,$.Create(function(bl){return bl.Key;},bj)),(bk=O.T.Empty,$.Create(function(bl){return bl.Key;},bk)));};x.New=function(bj,bk){return new x({EventItems:bj,WidgetItems:bk});};y.Create=function(bj){return y.New(_.Fresh(),bj);};y.New=function(bj,bk){return{Key:bj,PortConnector:bk};};z=d.DshData=G.Class({ConnectPorts:function(bj,bk){var bl;bl=new l.New(bj,bk);this.PortConnectorItems.Append(y.Create(bl));},RegisterWidget:function(bj){var bk;bk=w.Create(bj);this.WidgetItems.Append(bk);this.WorkItems.Append(bk);},RegisterEvent:function(bj){var bk;bk=w.Create(bj);this.EventItems.Append(bk);this.WorkItems.Append(bk);}},null,z);z.get_Create=function(){var bj,bk,bl,bm;return z.New((bj=O.T.Empty,$.Create(function(bn){return bn.Key;},bj)),(bk=O.T.Empty,$.Create(function(bn){return bn.Key;},bk)),(bl=O.T.Empty,$.Create(function(bn){return bn.Key;},bl)),(bm=O.T.Empty,$.Create(function(bn){return bn.Key;},bm)));};z.New=function(bj,bk,bl,bm){return new z({WorkItems:bj,WidgetItems:bk,EventItems:bl,PortConnectorItems:bm});};A=d.DshEditorCellItem=G.Class({Render:function(bj){var bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv;bk=(bl=(bm=bj.WorkItems.v,_0.Map(function(bw){var bx;return new O.T({$:1,$0:null,$1:(bx=function(by){return{$:1,$0:by};},function(by){return O.map(bx,by);}(O.ofSeq(bw)))});},bm)),(bn=[_1.Class("form-control")],(bo=this.OptWorker,_2.SelectDyn(bn,function(bw){var bx;bx=function(by,bz){return bz.Worker.get_Name().c;};return function(by){return ba.fold(bx," ",by);}(bw);},bl,bo))));bp=[_1.Class("td DshEditorCell")];bq=[(br=[_1.Class("div DshEditorCell")],(bs=[(bt=[(bu=[(bv=[bc.IconNormal("add",function(){})],_2.Element("td",[],bv)),_2.Element("td",[],[bk])],_2.Element("tr",[],bu))],_2.Element("table",[],bt))],_2.Element("div",br,bs)))];return _2.Element("td",bp,bq);}},null,A);A.get_Create=function(){return A.New(_.Fresh(),J.Create$1(null));};A.New=function(bj,bk){return new A({Key:bj,OptWorker:bk});};B=d.DshEditorRowItem=G.Class({Render:function(bj){var bk,bl,bm,bn,bo;bk=this;bl=(bm=function(bp){return bp.Key;},(bn=function(bp){return bp.Render(bj);},function(bp){return _2.ConvertBy(bm,bn,bp);})(this.CellItems.v));bo=[bl,bc.IconNormal("add",function(){bk.CellItems.Append(A.get_Create());})];return _2.Element("tr",[],bo);}},null,B);B.get_Create=function(){var bj;return B.New(_.Fresh(),(bj=O.T.Empty,$.Create(function(bk){return bk.Key;},bj)));};B.New=function(bj,bk){return new B({Key:bj,CellItems:bk});};C=d.DshEditor=G.Class({Render:function(bj){var bk,bl,bm,bn,bo,bp,bq;bk=this;bl=(bm=function(br){return br.Key;},(bn=function(br){var bs;bs=[br.Render(bj)];return _2.Element("tr",[],bs);},function(br){return _2.ConvertBy(bm,bn,br);})(this.RowItems.v));bo=[bl,(bp=[(bq=[bc.IconNormal("add",function(){bk.RowItems.Append(B.get_Create());})],_2.Element("td",[],bq))],_2.Element("tr",[],bp))];return _2.Element("table",[],bo);}},null,C);C.get_Create=function(){var bj;return C.New((bj=O.T.Empty,$.Create(function(bk){return bk.Key;},bj)));};C.New=function(bj){return new C({RowItems:bj});};D=d.SourceProperty=G.Class({WebSharper_Community_PropertyGrid_IProperty$get_Render:function(){var bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt;bj=this;bk=O.concat((bl=function(bu){var bv;bv=function(bw){return[bu,bw];};return function(bw){return O.map(bv,bw);}(bu.Worker.get_OutPorts());},function(bu){return O.map(bl,bu);}(O.ofSeq(this.data.WorkItems))));return bk.get_Length()>0?(bm=(bn=(bo=function(bu,bv){return Y.Equals(bv,bj.receiver.get_InPorts().get_Item(0).get_OutPort());},function(bu){return _3.tryFind(function(bv){return bo(bv[0],bv[1]);},bu);}(bk)),(bn!=null?bn.$==1:false)?bn.$0:O.head(bk)),(bp=J.Create$1(bm),(bq=function(bu,bv){bj.data.ConnectPorts(bv,bj.receiver.get_InPorts().get_Item(0));},(br=bp.v,_0.Sink(function(bu){return bq(bu[0],bu[1]);},br),bs=[_1.Class("form-control")],bt=function(bu,bv){return bu.Worker.get_Name().c+"\\"+bv.get_Name();},_2.Select(bs,function(bu){return bt(bu[0],bu[1]);},bk,bp))))):_2.TextNode("No sources defined");},WebSharper_Community_PropertyGrid_IProperty$get_Name:function(){return"Source";}},null,D);D.New=G.Ctor(function(bj,bk){this.data=bj;this.receiver=bk;},D);E=d.Dashboard=G.Class({get_Render:function(){var bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG;function bH(bI,bJ){var bK,bL,bM;bK=J.Create$1(bI);return[bK,(bL=[_1.DynamicStyle("display",(bM=bK.v,_0.Map(function(bN){return bN?"initial":"none";},bM)))],_2.Element("div",bL,[bJ]))];}bj=this;bk=(bl=[(bm=function(bI){return bI.Key;},(bn=function(bI){var bJ,bK,bL;bJ=[(bK=bc.AttrsClick(function(){bj.PropertyGrid.Edit(bI.Worker.get_Properties());}),(bL=[_2.TextView(bI.Worker.get_Name().v)],_2.Element("i",bK,bL)))];return _2.Element("tr",[],bJ);},function(bI){return _2.ConvertBy(bm,bn,bI);})(this.Data.EventItems.v))],_2.Element("table",[],bl));bo=O.ofArray([["Board",bH(true,this.PanelContainer.get_Render())],["Events",bH(false,bk)],["Rules",bH(false,this.DshEditor.Render(this.Data))]]);bp=(bq=function(bI,bJ){var bK,bL,bM,bN,bO;bK=bJ[0];bL=[(bM=[_1.DynamicStyle("Color",(bN=bK.v,_0.Map(function(bP){return bP?"#FB8C00":"#7D4600";},bN))),_1.Style("cursor","pointer"),_1.Handler("click",function(){return function(){var bP;bP=function(bQ,bR){var bS;bS=bR[0];!Y.Equals(bS,bK)?J.Set(bS,false):J.Set(bS,true);};return function(bQ){O.iter(function(bR){return bP(bR[0],bR[1]);},bQ);}(bo);};})],(bO=[_2.TextNode(bI)],_2.Element("td",bM,bO)))];return _2.Element("tr",[],bL);},function(bI){return O.map(function(bJ){return bq(bJ[0],bJ[1]);},bI);}(bo));br=(bs=function(bI,bJ){return bJ[1];},function(bI){return O.map(function(bJ){return bs(bJ[0],bJ[1]);},bI);}(bo));bt=[(bu=[(bv=[(bw=[_1.Style("vertical-align","top")],(bx=[(by=_3.concat([O.ofArray([(bz=[(bA=[bc.IconNormal("dehaze",function(){})],_2.Element("td",[],bA))],_2.Element("tr",[],bz)),(bB=[(bC=[bc.IconNormal("add",function(){var bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS;bI=bo.get_Item(0);bJ=bI[1][0];bK=bo.get_Item(1);bL=bK[1][0];bL.c?(bM=O.ofSeq(bj.Factory.EventItems),bN=J.Create$1(O.head(bM)),bO=bj.Dialog,bP=(bQ=[(bR=[_1.Class("form-control")],_2.Select(bR,function(bT){return bT.Worker.get_Name().c;},bM,bN))],_2.Element("div",[],bQ)),bO.ShowDialog("Select source",bP,function(){var bT;bT=bN.c.Worker.Clone();bj.Data.RegisterEvent(bT);bT.Run();})):bJ.c?bS=bj.CreatePanel("Panel",700,{$:1,$0:function(){}}):void 0;})],_2.Element("td",[],bC))],_2.Element("tr",[],bB)),(bD=[_2.Element("td",[],[])],_2.Element("tr",[],bD)),(bE=[(bF=[this.PropertyGrid.get_Render()],_2.Element("td",[],bF))],_2.Element("tr",[],bE))]),bp]),_2.Element("table",[],by))],_2.Element("td",bw,bx))),_2.Element("td",[],br)],_2.Element("tr",[],bv))],_2.Element("table",[],bu)),(bG=[this.Dialog.get_Render()],_2.Element("div",[],bG))];return _2.Element("div",[],bt);},CreatePanel:function(bj,bk,bl){var bm,bn,bo,bp,bq;bm=this;bn=(bo=this.Factory.WidgetItems.v,(bp=this.Data.WidgetItems.key,_2.ConvertBy(bp,function(br){var bs,bt;bs=br.Worker.get_Name().v;bt=[_2.TextView(bs)];return _2.Element("div",[],bt);},bo)));bq=bd.get_Create().WithLayoutManager(be.StackPanelLayoutManager()).WithAttributes([_1.Style("border","1px solid white"),_1.Style("display","flex")]);this.PanelContainer.AddPanel(bf.get_Create().WithPannelAttrs([_1.Style("Width",a.String(bk)+"px"),_1.Style("position","absolute")]).WithTitleContent(_2.TextNode(bj)).WithTitleButtons(O.ofArray([bg.New("add",function(br){var bs,bt,bu,bv,bw,bx;bs=O.ofSeq(bm.Factory.WidgetItems);bt=J.Create$1(O.head(bs));bu=bm.Dialog;bv=(bw=[(bx=[_1.Class("form-control")],_2.Select(bx,function(by){return by.Worker.get_Name().c;},bs,bt))],_2.Element("div",[],bw));bu.ShowDialog("Select widget",bv,function(){a.console.log("Dialog.IsOK");bm.RegisterWidget(br.Children,bt.c.Worker.Clone());});}),bg.New("edit",function(br){a.console.log("Edit");br.EditProperties(bm.PropertyGrid);}),bg.New("clear",function(br){bm.PanelContainer.PanelItems.Remove(bm.PanelContainer.FindPanelItem(br));})])).WithChildPanelContainer(bq).WithOnAfterRender(_7.DefaultArg(bl,function(){})));return bq;},RegisterWidget:function(bj,bk){this.Data.RegisterWidget(bk);bj.AddPanel(bf.get_Create().WithTitle(false).WithPanelContent(bk instanceof s?bk.Render():_2.Element("div",[],[])).WithProperties(new O.T({$:1,$0:new D.New(this.Data,bk),$1:bk.get_Properties()})));}},null,E);E.Create=function(bj){var bk,bl,bm;bk=bh.get_Create();bl=x.get_Create();bm=z.get_Create();return E.New(bl,bm,bj,C.get_Create(),bi.get_Create(),bk);};E.New=function(bj,bk,bl,bm,bn,bo){return new E({Factory:bj,Data:bk,PanelContainer:bl,DshEditor:bm,PropertyGrid:bn,Dialog:bo});};}());
