(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;a=window;b=a.WebSharper=a.WebSharper||{};c=b.Community=b.Community||{};d=c.Dashboard=c.Dashboard||{};e=d.Test=d.Test||{};f=e.AppModel=e.AppModel||{};g=e.Client=e.Client||{};h=d&&d.AppModelLib;i=b&&b.Operators;j=d&&d.RuleEntry;k=d&&d.AppData;l=c&&c.Panel;m=l&&l.Helper;n=d&&d.RandomRunner;o=d&&d.TextBoxRenderer;p=d&&d.ChartRenderer;q=b&&b.List;r=l&&l.PanelData;s=d&&d.RuleContainer;t=d&&d.RuleChain;u=d&&d.App;v=b&&b.Remoting;w=v&&v.AjaxRemotingProvider;x=d&&d.MessageBus;y=b&&b.UI;z=y&&y.Next;A=z&&z.Doc;B=d&&d.Environment;C=a.console;D=z&&z.Var;E=b&&b.Strings;f.ToWorker=function(F){return f.FromDataContext(F).get_Worker();};f.FromWorker=function(F){var G;G=h.FromWorker(F);return G!=null&&G.$==1?{$:0,$0:G.$0}:i.FailWith("AllTypes FromWorker unknown type");};f.FromDataContext=function(F){var G;G=h.FromDataContext(F);return G!=null&&G.$==1?G.$0:i.FailWith("AllTypes FromDataContext unknown type");};f.ToWorker$1=function(F){return F.$0.get_Worker();};g.Main=function(F){var G,H,I;function J(){var M,N,O,P,Q,R;function S(T){var U;U=f.ToWorker$1(T);return[[U.Key,M,T],j.New(U.InPorts.get_Item(0).Key,"",U.Key)];}k.Create(I,f.FromWorker);M=m.UniqueKey();N={$:0,$0:new h({$:0,$0:n.Create(100,50)})};O=f.ToWorker$1(N);P=S({$:0,$0:new h({$:3,$0:o.get_Create()})});Q=S({$:0,$0:new h({$:4,$0:p.Create(300,150,50)})});R=q.ofArray([r.Create(M,0,0,q.T.Empty)]);k.New(q.ofArray([["main",q.ofArray([[O.Key,N]])]]),q.ofArray([["main",R,q.ofArray([P[0],Q[0]])]]),q.ofArray([["main",s.New(q.ofArray([t.New(q.ofArray([j.New(O.InPorts.get_Item(0).Key,O.OutPorts.get_Item(0).Key,O.Key),P[1]])),t.New(q.ofArray([j.New(O.InPorts.get_Item(0).Key,O.OutPorts.get_Item(0).Key,O.Key),Q[1]]))]))]])).RecreateOnClientEventsRunning(I,function(){return u.PanelContainerCreator();},f.ToWorker$1);}function K(M){var N;N=(new w.New()).Sync("WebSharper.Community.Dashboard.Test:WebSharper.Community.Dashboard.Test.Server.LoadFromFile:960175932",[M]);N.RecreateOnClientEventsNotRunning(I,function(){return u.PanelContainerCreator();},f.ToWorker$1);(new w.New()).Send("WebSharper.Community.Dashboard.Test:WebSharper.Community.Dashboard.Test.Server.RecreateOnServer:1430973847",[N]);G("Server recreated");x.RunServerRequests();}function L(M){return A.Element("td",[],M);}B.set_Log(function(M){C.log(M);});G=B.Log();H=D.Create$1("Dashboard");I=u.CreateDashboard();return A.Element("div",[],[I.Render(A.Element("div",[],[L(q.ofArray([m.TxtIconNormal("build","Sample configuration",function(){J();})])),L(q.ofArray([A.TextNode("File name"),A.Input([],H)])),L(q.ofArray([m.TxtIconNormal("archive","Upload",function(){(new w.New()).Send("WebSharper.Community.Dashboard.Test:WebSharper.Community.Dashboard.Test.Server.SaveToFile:-1517660316",[H.c,k.Create(I,f.FromWorker)]);})])),L(q.ofArray([m.TxtIconNormal("unarchive","Download  and run on client",function(){(new w.New()).Sync("WebSharper.Community.Dashboard.Test:WebSharper.Community.Dashboard.Test.Server.LoadFromFile:960175932",[H.c]).RecreateOnClientEventsRunning(I,function(){return u.PanelContainerCreator();},f.ToWorker$1);})])),L(q.ofArray([m.TxtIconNormal("cloud_upload","Download and run on server",function(){K(H.c);})]))]))]).OnAfterRender(function(){try{!E.IsNullOrWhiteSpace(F.ConfigurationName)?K(F.ConfigurationName):null;}catch(M){null;}});};}());
