(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;a=window;b=a.WebSharper=a.WebSharper||{};c=b.Community=b.Community||{};d=c.Dashboard=c.Dashboard||{};e=d.Test=d.Test||{};f=e.AppModel=e.AppModel||{};g=e.Client=e.Client||{};h=d&&d.AppModelLib;i=d&&d.RuleEntry;j=d&&d.AppData;k=c&&c.Panel;l=k&&k.Helper;m=d&&d.Events;n=m&&m.RandomEvent;o=d&&d.Widgets;p=o&&o.TextBoxWidget;q=o&&o.ChartWidget;r=b&&b.List;s=k&&k.PanelData;t=d&&d.RuleContainer;u=d&&d.RuleChain;v=d&&d.App;w=b&&b.Remoting;x=w&&w.AjaxRemotingProvider;y=d&&d.MessageBus;z=b&&b.UI;A=z&&z.Next;B=A&&A.Doc;C=d&&d.Environment;D=a.console;E=A&&A.Var;F=b&&b.Strings;f.FromWorker=function(G){var H;H=h.FromWorker(G);return H==null?null:{$:1,$0:{$:0,$0:H.$0}};};f.ToWorker=function(G){return h.ToWorker(G.$0);};g.Main=function(G){var H,I,J;function K(){var N,O,P,Q,R,S;function T(U){var V;V=f.ToWorker(U);return[[V.Key,N,U],i.New(V.InPorts.get_Item(0).get_Key(),"",V.Key)];}j.Create(J,f.FromWorker);N=l.UniqueKey();O={$:0,$0:{$:0,$0:n.get_Create()}};P=f.ToWorker(O);Q=T({$:0,$0:{$:3,$0:p.get_Create()}});R=T({$:0,$0:{$:4,$0:q.Create(300,150,50)}});S=r.ofArray([s.Create(N,0,0,r.T.Empty)]);j.New(r.ofArray([["main",r.ofArray([[P.Key,O]])]]),r.ofArray([["main",S,r.ofArray([Q[0],R[0]])]]),r.ofArray([["main",t.New(r.ofArray([u.New(r.ofArray([i.New(P.InPorts.get_Item(0).get_Key(),P.OutPorts.get_Item(0).Key,P.Key),Q[1]])),u.New(r.ofArray([i.New(P.InPorts.get_Item(0).get_Key(),P.OutPorts.get_Item(0).Key,P.Key),R[1]]))]))]])).RecreateOnClientEventsRunning(J,function(){return v.PanelContainerCreator();},f.ToWorker);}function L(N){var O;O=(new x.New()).Sync("WebSharper.Community.Dashboard.Test:WebSharper.Community.Dashboard.Test.Server.LoadFromFile:960175932",[N]);O.RecreateOnClientEventsNotRunning(J,function(){return v.PanelContainerCreator();},f.ToWorker);(new x.New()).Send("WebSharper.Community.Dashboard.Test:WebSharper.Community.Dashboard.Test.Server.RecreateOnServer:1430973847",[O]);H("Server recreated");y.RunServerRequests();}function M(N){return B.Element("td",[],N);}C.set_Log(function(N){D.log(N);});H=C.Log();I=E.Create$1("Dashboard");J=v.CreateDashboard();return B.Element("div",[],[J.Render(B.Element("div",[],[M(r.ofArray([l.TxtIconNormal("build","Sample configuration",function(){K();})])),M(r.ofArray([B.TextNode("File name"),B.Input([],I)])),M(r.ofArray([l.TxtIconNormal("archive","Upload",function(){(new x.New()).Send("WebSharper.Community.Dashboard.Test:WebSharper.Community.Dashboard.Test.Server.SaveToFile:-1517660316",[I.c,j.Create(J,f.FromWorker)]);})])),M(r.ofArray([l.TxtIconNormal("unarchive","Download  and run on client",function(){(new x.New()).Sync("WebSharper.Community.Dashboard.Test:WebSharper.Community.Dashboard.Test.Server.LoadFromFile:960175932",[I.c]).RecreateOnClientEventsRunning(J,function(){return v.PanelContainerCreator();},f.ToWorker);})])),M(r.ofArray([l.TxtIconNormal("cloud_upload","Download and run on server",function(){L(I.c);})]))]))]).OnAfterRender(function(){try{!F.IsNullOrWhiteSpace(G.ConfigurationName)?L(G.ConfigurationName):null;}catch(N){null;}});};}());
