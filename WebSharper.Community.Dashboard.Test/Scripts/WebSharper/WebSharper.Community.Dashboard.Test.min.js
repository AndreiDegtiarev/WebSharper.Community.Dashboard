(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;a=window.WebSharper=window.WebSharper||{};b=a.Community=a.Community||{};c=b.Dashboard=b.Dashboard||{};d=c.Test=c.Test||{};e=d.AppModel=d.AppModel||{};f=d.Client=d.Client||{};g=window.WebSharper$Community$Dashboard$Test_JsonEncoder=window.WebSharper$Community$Dashboard$Test_JsonEncoder||{};h=window.IntelliFactory;i=h&&h.Runtime;j=c&&c.IWorker;k=a&&a.List;l=c&&c.Ports;m=a&&a.Operators;n=c&&c.Dashboard;o=b&&b.Panel;p=o&&o.PanelContainer;q=o&&o.LayoutManagers;r=a&&a.UI;s=r&&r.Next;t=s&&s.AttrModule;u=c&&c.OpenWeatherRunner;v=c&&c.RandomRunner;w=c&&c.TextBoxRenderer;x=c&&c.ChartRenderer;y=s&&s.Doc;z=o&&o.Helper;A=window.console;B=window.JSON;C=a&&a.Json;D=C&&C.Provider;e=d.AppModel=i.Class({get_IWorker:function(){var E,F,G;return this.$==1?(E=this.$0,j.CreateRunner("OpenWeatherMap",k.ofArray([l.InPortStr("City",E.OpenWeatherCity),l.InPortStr("ApiKey",E.OpenWeatherApiKey)]),k.ofArray([l.OutPortNum("Temperature")]),E)):this.$==2?j.CreateRenderer("Text",k.ofArray([l.InPortNum("in Value",0)]),k.T.Empty,this.$0):this.$==3?(F=this.$0,j.Create("Chart",k.ofArray([l.InPortNum("in Value",0),l.InPortNum("cx",F.Cx),l.InPortNum("cy",F.Cy),l.InPortNum("BufferSize",+F.ChartBufferSize)]),k.T.Empty,F)):(G=this.$0,j.CreateRunner("Random",k.ofArray([l.InPortNum("Middle value",G.MiddleValue),l.InPortNum("Dispersion",G.Dispersion)]),k.ofArray([l.OutPortNum("Random value")]),G));}},null,e);e.ToIWorker=function(E){return e.FromDataContext(E).get_IWorker();};e.FromIWorker=function(E){return e.FromDataContext(E.DataContext);};e.FromDataContext=function(E){return E instanceof c.RandomRunner?new e({$:0,$0:E}):E instanceof c.OpenWeatherRunner?new e({$:1,$0:E}):E instanceof c.TextBoxRenderer?new e({$:2,$0:E}):E instanceof c.ChartRenderer?new e({$:3,$0:E}):m.FailWith("AllTypes FromDataContext unknown type");};f.Main=function(){var E,F;function G(I){var J;F(I,(J=E.Factory,function(K){J.RegisterEvent(K);}));}function H(I){var J;F(I,(J=E.Factory,function(K){J.RegisterWidget(K);}));}E=n.Create(p.get_Create().WithLayoutManager(q.FloatingPanelLayoutManager(5)).WithWidth(800).WithHeight(420).WithAttributes([t.Style("border","1px solid white")]));F=function(I,J){return J(e.ToIWorker(I));};G(u.Create("London",""));G(v.Create(50,5));H(w.get_Create());H(x.Create(100,100,50));return y.Element("div",[],[E.get_Render(),z.IconNormal("add",function(){var I;I=k.map(function(J){return e.FromIWorker(J.Worker);},k.ofSeq(E.Data.EventItems));A.log(B.stringify(((D.EncodeList(g.j))())(I)));})]);};g.j$1=function(){return g._v$1?g._v$1:g._v$1=(D.EncodeRecord(x,[["Cx",D.Id(),0],["Cy",D.Id(),0],["ChartBufferSize",D.Id(),0]]))();};g.j$2=function(){return g._v$2?g._v$2:g._v$2=(D.EncodeRecord(w,[["TextBoxRenderer",D.Id(),0]]))();};g.j$3=function(){return g._v$3?g._v$3:g._v$3=(D.EncodeRecord(u,[["OpenWeatherCity",D.Id(),0],["OpenWeatherApiKey",D.Id(),0]]))();};g.j$4=function(){return g._v$4?g._v$4:g._v$4=(D.EncodeRecord(v,[["MiddleValue",D.Id(),0],["Dispersion",D.Id(),0]]))();};g.j=function(){return g._v?g._v:g._v=(D.EncodeUnion(e,"$",[[0,[[null,null,g.j$4]]],[1,[[null,null,g.j$3]]],[2,[[null,null,g.j$2]]],[3,[[null,null,g.j$1]]]]))();};}());
